var TextEditor=Object.assign(function(e,t,i={}){if(this.monaco=e,this.editor=e.editor.create(t,Object.assign({minimap:{enabled:!1}},i)),t.firstElementChild.className.indexOf("diff-placeholder")>=0){const e=t.firstElementChild;this.editor.onDidFocusEditorWidget((()=>{e.style.display="none"})),this.editor.onDidBlurEditorWidget((()=>{this.editor.getValue()?e.style.display="none":e.style.display="initial"}))}}.prototype,{getValue(){return this.editor.getValue()},changeLanguage(e){const t=this.editor.getModel(),i=this.monaco.editor.createModel(this.getValue(),e);this.editor.setModel(i),t&&t.dispose()}}).constructor,DiffEditor=Object.assign(function(e,t){this.monaco=e,this.lineNumbers={},this.edits=[],this.editor=e.editor.create(t,{lineNumbers:e=>this.lineNumbers[e],readOnly:!0,minimap:{enabled:!1}})}.prototype,{refresh(e){this.edits=e,this.lineNumbers=this._generateLineNumbers(e),this.editor.setValue(e.map((e=>e.lines)).flatMap((e=>e)).join("\n")),this.editor.deltaDecorations([],this._generateHighlightDecorations(e))},changeLanguage(e){const t=this.editor.getModel(),i=this.monaco.editor.createModel(this.editor.getValue(),e);this.editor.setModel(i),t&&t.dispose(),this.editor.deltaDecorations([],this._generateHighlightDecorations(this.edits))},_generateHighlightDecorations(e){let t=0,i=[];for(let o of e)["delete","add"].includes(o.type)?(i.push({range:new this.monaco.Range(t+1,1,t+o.lines.length,1),options:{isWholeLine:!0,className:`decoration-${o.type}-background`}}),t+=o.lines.length):t+=o.lines.length;return i},_generateLineNumbers(e){let t={},i=0,o=0;for(let s of e)for(let e=0;e<s.lines.length;e++)i++,"delete"==s.type?(o++,t[i]=o):"add"==s.type?(t[i]=""):"common"==s.type&&(o++,t[i]=o);return t}}).constructor,DiffBlockEditor=Object.assign(function(e,t){this.monaco=e,this.editor=e.editor.create(t,{readOnly:!0,minimap:{enabled:!1}})}.prototype,{refresh(e){this.editor.setValue(e.join("\n")),this.editor.deltaDecorations([],this._generateHighlightDecorations(e))},_generateHighlightDecorations(e){let t=0,i=0,o=[],s=" ";for(let n of[...e,""]){t++;let r=n.charAt(0);if(r!==s){if(i>0){let n={"@":"header","+":"add","-":"delete"}[s];n&&o.push({range:new this.monaco.Range(i,1,t-1,(e[t-2]||"").length+1),options:{isWholeline:!0,inlineClassName:`decoration-${n}`}})}i=t,s=r}}return o}}).constructor;