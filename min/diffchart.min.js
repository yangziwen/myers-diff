var PositionChart=Object.assign(function(t,e){this.chart=t.init(e)}.prototype,{refresh(t,e){let a=t.map((t=>[t.x,t.y])),o=[0,0],i=[o];for(let t of a){let[e,a]=t,[r,n]=o,l=e-r,s=a-n;l>s?i.push([++r,n]):l<s&&i.push([r,++n]);let p=Math.min(l,s);for(let t=1;t<=p;t++)i.push([r+t,n+t]);o=t}let r=[{type:"line",showSymbol:!1,z:10,data:i}];if(e&&e.length<100)for(let t of e)r.push({type:"line",showSymbol:!1,lineStyle:{color:"#ccc",width:1},z:1,data:t});this.chart.setOption({title:{},tooltip:{trigger:"axis",backgroundColor:"rgba(255, 255, 255, 0.7)",borderColor:"#ccc",borderWidth:1,textStyle:{color:"#666"},formatter:t=>t.map((t=>{let[e,a]=t.data;return`pos: (x=${e}, y=${a})`})).join("<br/>")},animation:!1,grid:{left:35,right:20,top:35,bottom:20},dataZoom:{type:"inside",zoomOnMouseWheel:"ctrl"},xAxis:{name:"x",position:"top",nameLocation:"middle",type:"value",min:"dataMin",max:"dataMax",splitLine:{show:!0},interval:Math.max(...o)<=20?1:null},yAxis:{name:"y",nameLocation:"middle",type:"value",min:"dataMin",max:"dataMax",inverse:!0,splitLine:{show:!0},interval:Math.max(...o)<=20?1:null},series:r},!0)}}).constructor,StepChart=Object.assign(function(t,e,a){this.chart=t.init(e),this.chart.on("click",(t=>a(t,this.diff)))}.prototype,{refresh(t){this.diff=t;let e=new Set,a=[];for(let o of t.getFinalSteps()){let i=this._generateDataByLastStep(t,o,e);i.length<=1||a.push({type:"line",data:i})}for(let o of Object.keys(t.prevStepMapping).reverse())for(let i of Object.keys(t.prevStepMapping[o])){let r=this._generateDataByLastStep(t,{d:o,k:i},e);r.length<=1||a.push({type:"line",lineStyle:{normal:{type:"dashed"}},data:r})}this.chart.setOption({title:{text:"",x:"center"},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.7)",borderColor:"#ccc",borderWidth:1,textStyle:{color:"#666"},formatter(e){let[a,o]=e.data,i=t.getPosition(a,o);return[`pos: (x=${i.x}, y=${i.y})`,`step: (d=${a}, k=${o})`].join("<br/>")}},animation:!1,grid:{left:35,right:20,top:20,bottom:35},dataZoom:{type:"inside",zoomOnMouseWheel:"ctrl"},xAxis:{name:"d",nameLocation:"middle",type:"value",min:"dataMin",max:"dataMax"},yAxis:{name:"k = x - y",nameLocation:"middle",type:"value",min:"dataMin",max:"dataMax"},series:a},!0)},_generateDataByLastStep(t,e,a){let o=t.getSteps(e).map((t=>(t.key=t.d+","+t.k,t))),i=[];for(let t of o.reverse()){if(i.unshift([t.d,t.k]),a.has(t.key))break;a.add(t.key)}return i}}).constructor;